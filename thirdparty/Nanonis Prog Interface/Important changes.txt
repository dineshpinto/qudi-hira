Nanonis Programming Interface V4.0
----------------------------------
*** R7683 (February 2018) ***

New and Changed VIs:
- New functions to get/set the Bias Spectroscopy options in the Advanced Configuration section
- Modified existing functions to get/set Bias Spectroscopy properties

----------------------------------------------------------------------------------------------------

*** R5902 (September 2015) ***

Changed VIs:
- New functions to draw multiple points and lines at once in the scan display 

----------------------------------------------------------------------------------------------------


*** R5642 (June 2015) ***

Changed VIs:
- Bias/Z Spectroscopy Properties Get / Set: added new properties

----------------------------------------------------------------------------------------------------

*** R4755 (September 2014) ***

New VIs:
- Current Calibration Get / Set

----------------------------------------------------------------------------------------------------

*** R4530 (February 2014) ***

New VIs:
- Oscillation Control Lock-in Harmonic Get / Set (same for Oscillation Control 2)
- PLL Signal Analyzer and ZoomFFT: Open module, Channels Get / Set

Changed VI:
- Scan Speed Get / Set: added Bwd-Fwd Speed Ratio.

----------------------------------------------------------------------------------------------------

*** R4101 (August 2013) ***

- New functions to get/set the configuration of the horizontal deflection, vertical deflection, and intensity signal

----------------------------------------------------------------------------------------------------

*** R3659 (March 2013) ***

- New function to get the positions from the motor control module

----------------------------------------------------------------------------------------------------

*** R3612 (February 2013) ***

- New example to draw the outline of the current scan frame and a mark at the current tip position in the scan control module

----------------------------------------------------------------------------------------------------

*** R3540 (January 2013) ***

- New function to load long term spectrum .nsp files

----------------------------------------------------------------------------------------------------

*** R3449 (November 2012) ***

New VIs:
- New example to draw patterns in the scan module
- New OC4 Sync subpalette in PLL palette
- New Function Generator palette

----------------------------------------------------------------------------------------------------


*** R3406 (November 2012) ***

New VIs:
- New functions for Spectrum Analyzers 1&2.
- New functions in Utilities to lock/unlock the Nanonis software.

----------------------------------------------------------------------------------------------------

*** R3307 (October 2012) ***

New VIs:
- Filter & Differentiation in Utilities.
- Bias Spectroscopy: new vis for the multiline mode.
- New examples: Bias Spectroscopy, and Bias Spectroscopy with Multiline segments.
- Tip Shaper example has new options to apply before ramping Z.

----------------------------------------------------------------------------------------------------

*** R3096 (May 2012) ***

New VIs:
- Scan Monitor PI: monitors Scan at specified update rate.
- Generate multiple Scan Monitors: generates and starts multiple Programming Interface Scan 
  Monitors.

Changed VI:
- FolMe Tip Recorder Data Save: added Basename input.

----------------------------------------------------------------------------------------------------

*** R3021 (April 2012) ***

New VIs:
- Z-Controller Home Properties Get / Set
- PLL Amplitude Bandwidth Get / Set, PLL Phase Bandwidth Get / Set
- PLL2 Amplitude Bandwidth Get / Set, PLL2 Phase Bandwidth Get / Set

----------------------------------------------------------------------------------------------------

*** R2861 (December 2011) ***

New VI: 
- Z-Contr Home: Moves the tip to its home position.
- PLL Input Properties Get / Set: gets / sets the input parameters of the oscillation control module.
- PLL-2 Input Properties Get / Set: gets / sets the input parameters of the oscillation control 
  module 2.

Changed VI:
- GenericSweep SetProperties: added connectors settling time and maximum slew rate.

----------------------------------------------------------------------------------------------------

*** R2840 (December 2011) ***

New Palette: Marks in Scan palette, to draw/erase/show/hide points and lines in the scan image.

----------------------------------------------------------------------------------------------------

*** R2778 (November 2011) ***

New VI:
- PLL FrqExc overwrite Get / Set: gets / sets signals to overwrite Frequency Shift and/or Excitation
  signals;
- PLL Lock-in cutoff Get / Set: gets / sets cutoff frequency of low-pass filter after PLL Lock-in;

Changed VI:
- AtomTracking Properties Get / Set: returns / configures the AtomTracking properties (Integral
  gain, Amplitude, Frequency, Phase);
- Z-Spectroscopy Auto Retract Get / Set: new options to set the retract condition;
- CenterFrequency Get / Set: changed frequency representation to double precision (required for SW 
  R2767 and higher);

----------------------------------------------------------------------------------------------------

*** R2666 (August 2011) ***

Changed VI:
- User Output CalculatedSignalConfig Get / Set: updated to support new log operation

----------------------------------------------------------------------------------------------------

*** R2576 (June 2011) ***

New VI:
- NumericalDerivative-of-3ds: takes a 3ds file as input and creates a new 3ds file with the derived
  signals (located in the palette File > File Examples)

----------------------------------------------------------------------------------------------------
*** R2557 (May 2011) ***

New VIs:
- SignalChart Open: opens Signal Chart;
- SignalChart Channels Set: sets Signal Chart channels;

Changed VIs:
- User Output Mode Get / Set: connector "Output Mode" from boolean to enum (add mode Calc. Signal);
- User Output CalculatedSignalConfig Get / Set: gets / sets signals 1, operator, signal 2;
- User Output CalculatedSignalName Get / Set : gets / sets name of calculated signal;
- Current Gains Get: added output "Selected Gain";
- Save dat / sxm File: moved connector "File path out", add connector "Filename control out";
- Multi-Segment Spectroscopy: "Reset Bias" and Z-Controller off while doing spectroscopy segments;

----------------------------------------------------------------------------------------------------
*** R2519 (April 2011) ***

New VIs for Follow Me Tip Move Recorder (Open, Save, Buffersize)

Changed VIs:
BiasSpectroscopy SetProperties: added flag to reset Bias
FolMe Speed Set/Get: now also support Scan Speed/Custom Speed setting

----------------------------------------------------------------------------------------------------
*** R2472 (March 2011) ***

New Palette: Generic PI Controller

----------------------------------------------------------------------------------------------------
*** R2465 (February 2011) ***

New VIs:
Coarse Motion: Motor start Closed Loop Move, Motor Positions Get
Lockin: Lockin RT Signals Get/Set

----------------------------------------------------------------------------------------------------
*** R2435 (January 2011) ***

New VIs:
Bias-Spectroscopy Status Get, tells if running
Z-Spectroscopy Status Get, tells if running

Changed VI:
Experiment on a Grid output connector changed from "Stop" to "Running"
Digital Lines - Pulse functionality fixed

----------------------------------------------------------------------------------------------------
*** R2395 (November 2010) ***

New VI in Utilities palette: Get All Parameters
Some examples from Experiments on a grid modified to integrate the new Save sxm File function

----------------------------------------------------------------------------------------------------
*** R2375 (November 2010) ***

New VIs:
File>Load/Save .dat file, Save .sxm file
Coarse Motion>Step Counter Get (currently available for Attocube ANC150 devices)

----------------------------------------------------------------------------------------------------
*** R2360 (October 2010) ***

Scan>Grid: Grid Experiment Set function has new input to set the basename of the automatically saved
  file when starting a grid experiment.

----------------------------------------------------------------------------------------------------
*** R2335 (September 2010) ***

New CPD compensation functions in Bias palette.
New VIs in Graphs palette: SpectrumAnalyzer CursorPosition Get/Set, SpectrumAnalyzer BandRMS Get.

----------------------------------------------------------------------------------------------------
*** R2286 (August 2010) ***

New VIs:
Bias: Bias Spectroscopy Stop
Z-controller: Z spectroscopy Stop
PLL: Amplitude controller Gain Get/Set, Phase controller Gain Get/Set
PLL2: Amplitude controller Gain Get/Set, Phase controller Gain Get/Set

New Example: ncAFM Amplitude calibration

----------------------------------------------------------------------------------------------------
*** R2276 (July 2010) ***

New Interferometer Palette.
New VI in Signals palette: User Input Calibration Set.

----------------------------------------------------------------------------------------------------
*** R2229 (June 2010) ***

New Examples:
Switch mode STM-AFM: This example switches between STM and AFM modes
Switch scanners: This example switches between 2 different scanners

----------------------------------------------------------------------------------------------------
*** R2214 (June 2010) ***

New VIs:
Scan>Piezos: Piezo Calibration Param Get/Set
Scan>FollowMe: FolMe Tip Recorder Data Get, FolMe Tip Recorder Buffer Clear, FolMe Oversampling 
  Get / Set, FolMe Stop Movement
Coarse Motion: Motor Frequency Amplitude Get/set

----------------------------------------------------------------------------------------------------
*** R2163 (April 2010) ***

New VIs:
Kelvin: Get Demodulated amplitude
Lockin: Get/Set Modulation parameters 

----------------------------------------------------------------------------------------------------
*** R2136 (March 2010) ***

New Example: 2D Sweep using Generic Sweeper

----------------------------------------------------------------------------------------------------
*** R2118 (February 2010) ***

New VI:
Scan: Scan Status Get

----------------------------------------------------------------------------------------------------
*** R2113 (February 2010) ***

New VIs:
Bias: Get/set Bias Range, Get/Set Bias Calibration
PLL: Get/Set Add external signal to output status
PLL2: Get/Set Add external signal to output status

----------------------------------------------------------------------------------------------------
*** R2075 (January 2010) ***

New VIs to open PLL Frequency sweep and set its parameters
FrequencySweep Start now allows to set sweep direction
Fixed bugs in 2 example VIs (MultiSegmentSpectroscopy & StoreSpecParms)

----------------------------------------------------------------------------------------------------
*** R2032 (December 2009) ***

Show Characteristic values as an output in FrqSweeper Start function.
Get/Set Scan comments in Scan SeriesName Get/Set.

----------------------------------------------------------------------------------------------------
*** R2024 (December 2009) ***

New VIs to control experiments on a Grid. 
New Grid folder added in Scan folder.
Follow Me VIs moved to Follow Me folder in Scan folder.

----------------------------------------------------------------------------------------------------
*** R1966 (October 2009) ***

Application reference (introduced in R1919) is no longer a required input. When not wired, behavior
  is like it was before the application reference was introduced.
New examples:
MultiPass - Example-Callback-VI
Grid Measurements Example - ExtractPointSpectro

=== Update instructions for your existing VIs ===
When opening existing VIs after installing this version of the programming interface they will be
broken. To fix them is quite simple:
- for functions that appear greyed out: right-click the function and select "Relink to SubVI". If
  you have a lot of VIs or use the function in several places of a VI you can do as follows:
  1) open all your VIs you want to update
  2) right-click one of the greyed out instances of any function 
  3) select "Find All Instances"
  4) click the "Replace with:" box and select the new version of the same function
  5) click "Replace All"
  6) save the VIs
- for functions that are not greyed out but show broken wires: delete the broken wire and connect it
  to the correct terminal.

----------------------------------------------------------------------------------------------------
*** R1935 (October 2009) ***

New example to extract slices of a 3ds file as sxm file (Binary_SpectroscopyFile-ExportSlices.vi)
Some connector changes for a few VIs

----------------------------------------------------------------------------------------------------
*** R1926 (September 2009) ***

New VIs:
Current Gain get/set functions

----------------------------------------------------------------------------------------------------
*** R1919 (September 2009) ***

New input/output parameters for ALL functions (except those from File folder): Application reference

----------------------------------------------------------------------------------------------------
*** R1886 (September 2009) ***

New VIs:
Generic Sweep: Get/Set Sweep signal, Get/Set Channels to Record, Get Sweep signals list
Signals: Get Measurement channels list
Piezos: Get HVA Info

----------------------------------------------------------------------------------------------------
*** R1882 (September 2009) ***

New example for Point & Shoot: Multiple Spectro.vi

----------------------------------------------------------------------------------------------------
*** R1848 (August 2009) ***

New VIs:
Kelvin controller: Bias Limits Get/Set, demodulation/control Signal Get/Set
Binary files routines: open, read, and close, plus examples

----------------------------------------------------------------------------------------------------
*** R1722 (May 2009) ***

New VIs:
Bias Spectroscopy/Z-Spectroscopy: Channels Get/Set
TCP Receiver: Animations Period Get/Set

----------------------------------------------------------------------------------------------------
*** R1627 (Jan 2009) ***

New VIs:
Z-Spectro RetractDelay Get/Set VIs

----------------------------------------------------------------------------------------------------
*** R1607 (Jan 2009) ***

New VIs:
Z-Spectro AutoRetract Get/Set VIs

Changed VI:
Bias Pulse: option to select whether the pulse bias is relative or absolute.

----------------------------------------------------------------------------------------------------
*** R1596 (Jan 2009) ***

New VIs:
SafeTip VIs

----------------------------------------------------------------------------------------------------
*** R1564 (December 2008) ***

New VIs:
PLL Input Range Get/Set
User Output Calibration Set
User Output Mode Get/Set
User Output MonitorChannel Get/Set
Transfer function (Lock in frequency sweep) VIs

----------------------------------------------------------------------------------------------------
*** R1558 (December 2008) ***

New VIs:
PLL Signal Analyzer: functions to get Osci & FFT graph data

----------------------------------------------------------------------------------------------------
*** R1550 (November 2008) ***

New VIs:
Oscilloscope control
Spectrum Analyzer control
TCP receiver: RT frq and oversampling

----------------------------------------------------------------------------------------------------
*** R1538 (November 2008) ***

New VIs:
Kelvin controller VIs
Z-ctrl active controller Get/Set
PLL excitation range Get/Set

----------------------------------------------------------------------------------------------------
*** R1446 (September 2008) ***

New VIs:
Laser on_off Get/Set
Laser Properties Get/Set
Laser Power Get

New example:
Z drift - measure and compensate

----------------------------------------------------------------------------------------------------
*** R1384 (August 2008) ***

Changed VI:
"Load sxm file": the returned data array is oriented so that it represents the image (the 
array element (0,0) being the top-left image corner).

----------------------------------------------------------------------------------------------------
*** R1368 (August 2008) ***

New VI:
"Scan Grab Frame Data"

Changed VI:
"Scan WaitEOS" returns the filename if an imaged was saved at the end-of-scan.

----------------------------------------------------------------------------------------------------
*** R1352 (July 2008) ***

New VIs:
Atom tracking functions
BiasSpectroscopy Get/SetTimings
Z-Spectroscopy Get/SetTimings

----------------------------------------------------------------------------------------------------
*** R1343 (July 2008) ***

New VIs:
Scan Action
FolMe Speed Get/Set
Scan WaitEOS
Scan Get/SetProperties

Replaced VIs:
"Scan-Start_Stop" replaced by "Scan Action"
"SeriesName Get/Set" replaced by "Scan Get/SetProperties"

New examples added

-----------------------------------------------------------------------------------------------------
*** R1268 (May 2008) ***

Change: Bias controls in (Bias, Pulse, Spectro and Sweep) are no more limited to the +/- 10V  range.

-----------------------------------------------------------------------------------------------------
*** R1255 (May 2008) ***

New VIs:
set of functions for PLL2
"BeamDeflection AutoOffset.vi"

-----------------------------------------------------------------------------------------------------
*** R1176 (March 2008) ***

New VIs:
"PhaseReference Get/Set"
"Auto Approach on_off Get/Set"

-----------------------------------------------------------------------------------------------------
*** R1147 (Feb 2008) ***

New VIs:
"Z-Spectroscopy Range Set"
"Z-Spectroscopy SetProperties"

-----------------------------------------------------------------------------------------------------
*** R1135 (Feb 2008) ***

New VIs:
"ScanBuffer Get/Set"
"ScanFrame Get/Set"
"Speed Get/Set"
"Tilt Get/Set"
"DriftCompensation Get/Set"

New example:
"User scan tool box"

-----------------------------------------------------------------------------------------------------
*** R1004 (Jan 2008) ***

New VIs:
"Z-Ctrl Gain Get/Set"

-----------------------------------------------------------------------------------------------------
*** V4.0 first release (Dec 2007) ***

VIs RENAMED:
"Motor Steps.vi" --> "Motor Start Move.vi"
"Motor Stop.vi" --> "Motor Stop Move.vi"
"Output Set.vi" --> "User Channel Output Set.vi"

Replaced VIs:
"Lockin Mod Signal Get/Set" & "Lockin Demod Signal Get/Set" replaced by "Lockin MoDem Signal Get/Set"

Changed behaviour:
"Output (Exc) on_off Get/Set" : now TRUE means output is ON.

Deleted:
"Sweepers StartSweep.vi" : instead, use the "start" function of the sweeper. 
"Input Get.vi" : instead, use the function "Signal Value Get (Animation period).vi"
"Internal Get.vi" : same as above.
"Output Get.vi" : same as above.

